<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maiconsoft - Documentação Completa do Projeto</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        @page {
            size: A4;
            margin: 25mm 20mm 25mm 20mm;
        }
        
        body {
            font-family: Arial, Helvetica, sans-serif;
            line-height: 1.6;
            color: #000;
            max-width: 210mm;
            margin: 0 auto;
            padding: 20px 0;
            background: #e0e0e0;
            counter-reset: page;
        }
        
        .page {
            width: 210mm;
            height: 297mm;
            padding: 15mm 20mm 20mm 20mm;
            margin: 0 auto 10mm auto;
            background: white;
            position: relative;
            page-break-after: always;
            box-sizing: border-box;
        }
        
        .page:last-child {
            page-break-after: auto;
        }
        
        @media screen {
            .page {
                box-shadow: 0 2px 15px rgba(0,0,0,0.3);
                position: relative;
            }
            
            .page::before {
                content: attr(data-page);
                position: absolute;
                top: -25px;
                right: 10px;
                background: #333;
                color: white;
                padding: 5px 15px;
                border-radius: 3px;
                font-size: 11pt;
                font-weight: bold;
            }
            
            .page.capa::before {
                content: "CAPA";
            }
        }
        
        .header-page {
            width: 100%;
            margin-bottom: 10mm;
            border-bottom: 1px solid #ccc;
            padding-bottom: 3mm;
            margin-top: -5mm;
        }
        
        .header-page img {
            width: 100%;
            height: 30mm;
            object-fit: cover;
            display: block;
        }
        
        .footer-page {
            position: absolute;
            bottom: 15mm;
            left: 20mm;
            right: 20mm;
            text-align: center;
            font-size: 10pt;
            border-top: 1px solid #ccc;
            padding-top: 3mm;
        }
        
        .page:not(.capa) .footer-page::before {
            counter-increment: page;
            content: "Página " counter(page);
        }
        
        .container {
            background: white;
            padding: 0;
        }
        
        .capa {
            text-align: center;
            padding-top: 80mm;
            counter-reset: page 0;
        }
        
        .capa h1 {
            font-size: 28pt;
            margin-bottom: 10mm;
            border: none;
        }
        
        .capa .subtitle {
            font-size: 16pt;
            margin: 15mm 0;
            line-height: 1.4;
        }
        
        .capa .info {
            margin-top: 60mm;
            font-size: 12pt;
            line-height: 1.6;
        }
        
        .capa .info p {
            margin: 5px 0;
        }
        
        h1 {
            color: #000;
            border-bottom: 2px solid #000;
            padding-bottom: 10px;
            margin-bottom: 30px;
            font-size: 24pt;
            text-align: center;
            font-weight: bold;
            text-transform: uppercase;
        }
        
        h2 {
            color: #000;
            margin-top: 15mm;
            margin-bottom: 10mm;
            font-size: 16pt;
            font-weight: bold;
            page-break-after: avoid;
            border-bottom: 1px solid #000;
            padding-bottom: 3mm;
        }
        
        h3 {
            color: #000;
            margin-top: 10mm;
            margin-bottom: 5mm;
            font-size: 13pt;
            font-weight: bold;
        }
        
        h4 {
            color: #000;
            margin-top: 8mm;
            margin-bottom: 4mm;
            font-size: 11pt;
            font-weight: bold;
            font-style: italic;
        }
        
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        
        .header {
            text-align: center;
            margin-bottom: 60px;
            padding: 40px 0;
            border-bottom: 3px double #000;
        }
        
        .subtitle {
            color: #000;
            font-size: 14pt;
            margin-top: 15px;
            font-weight: normal;
        }
        
        .team {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .team-member {
            background: #f9f9f9;
            padding: 15px;
            border: 1px solid #ccc;
            margin-bottom: 10px;
        }
        
        .team-member h4 {
            color: #000;
            margin-top: 0;
            font-size: 11pt;
        }
        
        .team-member .role {
            color: #000;
            font-weight: bold;
            margin: 5px 0;
            font-size: 10pt;
        }
        
        .team-member .responsibilities {
            color: #333;
            font-size: 10pt;
        }
        
        code {
            background: #f5f5f5;
            padding: 2px 5px;
            border: 1px solid #ddd;
            font-family: 'Courier New', monospace;
            color: #000;
            font-size: 10pt;
        }
        
        pre {
            background: #f9f9f9;
            color: #000;
            padding: 15px;
            border: 1px solid #ccc;
            overflow-x: auto;
            margin: 20px 0;
            font-size: 10pt;
        }
        
        pre code {
            background: none;
            color: #000;
            padding: 0;
            border: none;
        }
        
        .info-box {
            background: #f9f9f9;
            border: 1px solid #ccc;
            border-left: 3px solid #666;
            padding: 15px;
            margin: 20px 0;
        }
        
        .warning-box {
            background: #f9f9f9;
            border: 1px solid #ccc;
            border-left: 3px solid #666;
            padding: 15px;
            margin: 20px 0;
        }
        
        .success-box {
            background: #f9f9f9;
            border: 1px solid #ccc;
            border-left: 3px solid #666;
            padding: 15px;
            margin: 20px 0;
        }
        
        .command-line {
            background: #f5f5f5;
            color: #000;
            padding: 10px 15px;
            border: 1px solid #ccc;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 10pt;
        }
        
        ul, ol {
            margin-left: 30px;
            margin-bottom: 20px;
        }
        
        li {
            margin-bottom: 10px;
        }
        
        a {
            color: #000;
            text-decoration: underline;
        }
        
        a:hover {
            color: #333;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }
        
        th {
            background: #f0f0f0;
            color: #000;
            font-weight: bold;
            border: 1px solid #000;
        }
        
        tr:nth-child(even) {
            background: #fafafa;
        }
        
        td {
            font-size: 10pt;
        }
        
        .sumario {
            padding: 0;
        }
        
        .sumario h2 {
            text-align: center;
            text-transform: uppercase;
            font-size: 18pt;
            margin-bottom: 20mm;
            border: none;
        }
        
        .sumario-item {
            margin: 8px 0;
            display: flex;
            justify-content: space-between;
            font-size: 11pt;
        }
        
        .sumario-item-1 {
            font-weight: bold;
            margin-top: 15px;
        }
        
        .sumario-item-2 {
            margin-left: 15px;
        }
        
        .sumario-item-3 {
            margin-left: 30px;
        }
        
        .sumario-dots {
            flex-grow: 1;
            border-bottom: 1px dotted #000;
            margin: 0 10px;
            height: 0.8em;
        }
        
        .screenshot {
            max-width: 90%;
            border: 1px solid #000;
            margin: 20px auto;
            display: block;
        }
        
        .screenshot-container {
            text-align: center;
            margin: 30px 0;
            page-break-inside: avoid;
        }
        
        .screenshot-caption {
            color: #000;
            font-style: italic;
            margin-top: 10px;
            font-size: 10pt;
            font-weight: bold;
        }
        
        p {
            text-indent: 0;
            font-size: 11pt;
            margin-bottom: 8pt;
            text-align: justify;
        }
        
        ul, ol {
            font-size: 11pt;
        }
        
        @media print {
            body {
                background: white !important;
                max-width: 100%;
                padding: 0;
                margin: 0;
            }
            
            .container {
                padding: 0;
            }
            
            .page {
                width: 210mm;
                height: 297mm;
                padding: 15mm 20mm 20mm 20mm;
                margin: 0 !important;
                box-shadow: none !important;
                page-break-after: always;
                background: white !important;
            }
            
            .page:last-child {
                page-break-after: auto;
            }
            
            .header-page {
                margin-top: -5mm;
            }
            
            .header-page img {
                height: 20mm;
            }
            
            pre, .command-line, .screenshot-container {
                page-break-inside: avoid;
            }
            
            h2, h3, h4 {
                page-break-after: avoid;
            }
            
            .screenshot {
                max-width: 70%;
            }
            
            a {
                color: #000;
                text-decoration: none;
            }
            
            .footer-page {
                border-top: 1px solid #ccc;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- CAPA -->
        <div class="page capa" data-page="CAPA">
            <h1>MAICOSOFT</h1>
            <p class="subtitle">Sistema de Gestão Empresarial<br>para Construção Civil</p>
            <p class="subtitle">Documentação do Projeto</p>
            <div class="info">
                <p><strong>Equipe:</strong></p>
                <p>Denise Korgiski de Oliveira</p>
                <p>João Vinicius Fonseca Diniz</p>
                <p>Luiz Antonio Pereira Lima</p>
                <p>Leandro Nicolas Silveira Gonçalves</p>
            </div>
        </div>

        <!-- SUMÁRIO -->
        <div class="page" data-page="PÁG. 1">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="sumario">
                <h2>SUMÁRIO</h2>
                
                <div class="sumario-item sumario-item-1">
                    <span>1. EQUIPE DE DESENVOLVIMENTO</span>
                    <span class="sumario-dots"></span>
                    <span>2</span>
                </div>
                
                <div class="sumario-item sumario-item-1">
                    <span>2. PROBLEMA E SOLUÇÃO</span>
                    <span class="sumario-dots"></span>
                    <span>3</span>
                </div>
                <div class="sumario-item sumario-item-2">
                    <span>2.1 Problema Identificado</span>
                    <span class="sumario-dots"></span>
                    <span>3</span>
                </div>
                <div class="sumario-item sumario-item-2">
                    <span>2.2 Solução Proposta</span>
                    <span class="sumario-dots"></span>
                    <span>3</span>
                </div>
                
                <div class="sumario-item sumario-item-1">
                    <span>3. CONFIGURAÇÃO DOCKER E WSL</span>
                    <span class="sumario-dots"></span>
                    <span>4</span>
                </div>
                <div class="sumario-item sumario-item-2">
                    <span>3.1 Instalação do Windows Terminal</span>
                    <span class="sumario-dots"></span>
                    <span>4</span>
                </div>
                <div class="sumario-item sumario-item-2">
                    <span>3.2 Instalação do WSL</span>
                    <span class="sumario-dots"></span>
                    <span>4</span>
                </div>
                <div class="sumario-item sumario-item-2">
                    <span>3.3 Configuração do Ambiente Linux</span>
                    <span class="sumario-dots"></span>
                    <span>6</span>
                </div>
                <div class="sumario-item sumario-item-3">
                    <span>3.3.1 Instalar GIT no Ubuntu</span>
                    <span class="sumario-dots"></span>
                    <span>6</span>
                </div>
                <div class="sumario-item sumario-item-3">
                    <span>3.3.2 Instalar Docker no Ubuntu</span>
                    <span class="sumario-dots"></span>
                    <span>6</span>
                </div>
                <div class="sumario-item sumario-item-2">
                    <span>3.4 Executando o Projeto com Docker</span>
                    <span class="sumario-dots"></span>
                    <span>9</span>
                </div>
                <div class="sumario-item sumario-item-3">
                    <span>3.4.1 Estrutura Docker do Projeto</span>
                    <span class="sumario-dots"></span>
                    <span>9</span>
                </div>
                <div class="sumario-item sumario-item-3">
                    <span>3.4.2 Executando o Projeto (Deploy Completo)</span>
                    <span class="sumario-dots"></span>
                    <span>9</span>
                </div>
                <div class="sumario-item sumario-item-3">
                    <span>3.4.3 Comandos Docker Individuais</span>
                    <span class="sumario-dots"></span>
                    <span>10</span>
                </div>
                <div class="sumario-item sumario-item-3">
                    <span>3.4.4 Resultado da Execução</span>
                    <span class="sumario-dots"></span>
                    <span>11</span>
                </div>
                
                <div class="sumario-item sumario-item-1">
                    <span>4. BANCO DE DADOS</span>
                    <span class="sumario-dots"></span>
                    <span>9</span>
                </div>
                
                <div class="sumario-item sumario-item-1">
                    <span>5. BACKEND - API SPRING BOOT</span>
                    <span class="sumario-dots"></span>
                    <span>10</span>
                </div>
                
                <div class="sumario-item sumario-item-1">
                    <span>6. FRONTEND - INTERFACE WEB</span>
                    <span class="sumario-dots"></span>
                    <span>11</span>
                </div>
                
                <div class="sumario-item sumario-item-1">
                    <span>7. FUNCIONALIDADES DO SISTEMA</span>
                    <span class="sumario-dots"></span>
                    <span>12</span>
                </div>
                
                <div class="sumario-item sumario-item-1">
                    <span>8. DEPLOY E PRODUÇÃO</span>
                    <span class="sumario-dots"></span>
                    <span>13</span>
                </div>
                
                <div class="sumario-item sumario-item-1">
                    <span>9. RESOLUÇÃO DE PROBLEMAS</span>
                    <span class="sumario-dots"></span>
                    <span>14</span>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- Página 2: Equipe de Desenvolvimento -->
        <div class="page" data-page="2">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho Maicosoft">
            </div>
            
            <div class="content-page">
                <h2>1. EQUIPE DE DESENVOLVIMENTO</h2>
            
                <div class="team">
                    <div class="team-member">
                        <h4>João Vinícius Fonseca Diniz</h4>
                        <p class="role">Líder do Projeto</p>
                        <p class="responsibilities">Gestão, Planejamento, Organização</p>
                    </div>
                    
                    <div class="team-member">
                        <h4>Denise Korgiski de Oliveira</h4>
                        <p class="role">Dev Full Stack / DBA</p>
                        <p class="responsibilities">Backend, Banco de Dados, Arquitetura</p>
                    </div>
                    
                    <div class="team-member">
                        <h4>Luiz Antonio Pereira Lima</h4>
                        <p class="role">Dev Front-end</p>
                        <p class="responsibilities">Interface, UX/UI, Responsividade</p>
                    </div>
                    
                    <div class="team-member">
                        <h4>Leandro Nicolas Silveira Gonçalves</h4>
                        <p class="role">QA Specialist</p>
                        <p class="responsibilities">Testes, Qualidade, Validação</p>
                    </div>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- Página 3: Problema e Solução -->
        <div class="page" data-page="3">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho Maicosoft">
            </div>
            
            <div class="content-page">
                <h2>2. PROBLEMA E SOLUÇÃO</h2>
                
                <h3>2.1 Problema Identificado</h3>
                <p>
                    A Maicosoft enfrenta desafios na gestão de seus processos comerciais, incluindo:
                </p>
                <ul>
                    <li>Controle manual e descentralizado de vendas</li>
                    <li>Dificuldade no acompanhamento de clientes e histórico de compras</li>
                    <li>Gestão inadequada de cupons promocionais</li>
                    <li>Falta de relatórios consolidados para tomada de decisão</li>
                    <li>Processos operacionais lentos e suscetíveis a erros</li>
                </ul>
                
                <h3>2.2 Solução Proposta</h3>
                <p>
                    Sistema web integrado que oferece:
                </p>
                <ul>
                    <li><strong>Gestão Completa de Clientes:</strong> Cadastro, edição e histórico detalhado</li>
                    <li><strong>Controle de Vendas:</strong> Registro e acompanhamento de todas as transações</li>
                    <li><strong>Sistema de Cupons:</strong> Criação e validação de promoções</li>
                    <li><strong>Dashboard Analítico:</strong> Visualização em tempo real de indicadores</li>
                    <li><strong>Relatórios Gerenciais:</strong> Exportação de dados para análise</li>
                    <li><strong>Gestão de Usuários:</strong> Controle de acesso e perfis</li>
                </p>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 4: DOCKER E WSL - PARTE 1 -->
        <div class="page" data-page="PÁG. 4">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h2>3. CONFIGURAÇÃO DOCKER E WSL</h2>
            
                <p>
                    O projeto utiliza <strong>Docker</strong> para containerização, garantindo portabilidade e 
                    consistência entre ambientes de desenvolvimento e produção. Para Windows, utilizamos o 
                    <strong>WSL (Windows Subsystem for Linux)</strong> para evitar o uso do Docker Desktop.
                </p>

                <h3>3.1 Instalação do Windows Terminal</h3>
                <p>Primeiro, instale o Windows Terminal para uma melhor experiência com linha de comando:</p>
                <div class="info-box">
                    <strong>Link de Download:</strong><br>
                    <a href="https://apps.microsoft.com/detail/9n0dx20hk701" target="_blank">
                        https://apps.microsoft.com/detail/9n0dx20hk701
                    </a>
                </div>
                
                <div class="screenshot-container">
                    <img src="images/Imagem1.png" alt="Windows Terminal" class="screenshot">
                    <p class="screenshot-caption">Figura 1: Windows Terminal instalado</p>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 5: DOCKER E WSL - PARTE 2 -->
        <div class="page" data-page="PÁG. 5">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>3.2 Instalação do WSL</h3>
                <p>
                    O WSL permite executar um ambiente Linux diretamente no Windows, sendo essencial para 
                    desenvolvimento com Docker sem overhead do Docker Desktop.
                </p>
                
                <h4>Passo 1: Instalar WSL</h4>
                <div class="command-line">
                    wsl --install
                </div>
                
                <h4>Passo 2: Instalar Ubuntu</h4>
                <div class="command-line">
                    wsl --install -d Ubuntu
                </div>
                
                <h4>Passo 3: Definir Ubuntu como padrão</h4>
                <div class="command-line">
                    wsl --set-default Ubuntu
                </div>
                
                <div class="info-box">
                    <strong>Documentação Oficial:</strong><br>
                    <a href="https://learn.microsoft.com/pt-br/windows/wsl/install" target="_blank">
                        https://learn.microsoft.com/pt-br/windows/wsl/install
                    </a>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 6: DOCKER E WSL - PARTE 3 -->
        <div class="page" data-page="PÁG. 6">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>3.2 Instalação do WSL (continuação)</h3>
                
                <div class="screenshot-container">
                    <img src="images/Imagem2.png" alt="Ubuntu no Windows Terminal" class="screenshot">
                    <p class="screenshot-caption">Figura 2: Acessando Ubuntu via Windows Terminal</p>
                </div>
                
                <div class="screenshot-container">
                    <img src="images/Imagem3.png" alt="Ubuntu rodando no WSL" class="screenshot">
                    <p class="screenshot-caption">Figura 3: Ambiente Ubuntu rodando no WSL</p>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 7: DOCKER E WSL - PARTE 4 -->
        <div class="page" data-page="PÁG. 7">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>3.3 Configuração do Ambiente Linux</h3>
                
                <h4>3.3.1 Instalar GIT no Ubuntu</h4>
                <p>Após abrir o Ubuntu no Windows Terminal, instale o GIT:</p>
                <pre><code># Atualizar lista de pacotes
sudo apt-get update

# Instalar GIT
sudo apt-get install git-all</code></pre>

                <h4>3.3.2 Instalar Docker no Ubuntu</h4>
                <p>Siga o guia oficial de instalação do Docker no Ubuntu:</p>
                <div class="info-box">
                    <strong>Documentação Oficial:</strong><br>
                    <a href="https://docs.docker.com/engine/install/ubuntu/" target="_blank">
                        https://docs.docker.com/engine/install/ubuntu/
                    </a>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 8: DOCKER E WSL - PARTE 5 -->
        <div class="page" data-page="PÁG. 8">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>3.3.2 Instalar Docker no Ubuntu (continuação)</h3>
                
                <pre><code># Adicionar repositorio Docker
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu  stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# Instalar Docker
sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin

# Permitir usar Docker sem sudo
sudo usermod -aG docker $USER

# Reiniciar para aplicar permissões
exit
# Abra o terminal novamente</code></pre>

                <div class="warning-box">
                    <strong>Importante:</strong> Após executar o comando <code>usermod</code>, é necessário 
                    reiniciar o terminal ou fazer logout/login para que as permissões sejam aplicadas.
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 9: DOCKER E WSL - PARTE 6 -->
        <div class="page" data-page="PÁG. 9">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>3.4 Executando o Projeto com Docker</h3>
                
                <h4>3.4.1 Estrutura Docker do Projeto</h4>
                <p>O projeto possui uma stack completa com 3 containers:</p>
                
                <table>
                    <tr>
                        <th>Container</th>
                        <th>Imagem</th>
                        <th>Porta</th>
                        <th>Descrição</th>
                    </tr>
                    <tr>
                        <td>postgres</td>
                        <td>postgres:15-alpine</td>
                        <td>5432</td>
                        <td>Banco de dados PostgreSQL</td>
                    </tr>
                    <tr>
                        <td>backend</td>
                        <td>Custom (Spring Boot)</td>
                        <td>8090</td>
                        <td>API REST Java</td>
                    </tr>
                    <tr>
                        <td>frontend</td>
                        <td>nginx:alpine</td>
                        <td>3000</td>
                        <td>Servidor web Nginx</td>
                    </tr>
                </table>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 10: DOCKER E WSL - PARTE 7 -->
        <div class="page" data-page="PÁG. 10">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>3.4.2 Executando o Projeto (Deploy Completo)</h4>
                <p>Para executar o projeto em uma máquina nova (primeira execução), use o seguinte comando único:</p>
                
                <div class="warning-box">
                    <strong>Comando de Deploy Completo (Primeira Execução):</strong><br>
                    Este comando funciona em qualquer máquina Linux nova, criando toda estrutura necessária automaticamente.
                </div>
                
                <pre><code>mkdir -p ~/projetos && cd ~/projetos && \
rm -rf MaicoSoft 2>/dev/null ; \
git clone https://github.com/nisze/MaicoSoft.git && \
cd MaicoSoft && \
docker compose up -d --build && \
echo "Aguardando 30 segundos para inicialização..." && sleep 30 && \
echo -e "\n========================================" && \
echo -e "       STATUS DOS CONTAINERS" && \
echo -e "========================================\n" && \
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}" && \
echo -e "\n========================================" && \
echo -e "         TESTANDO LOGIN API" && \
echo -e "========================================\n" && \
curl -X POST http://localhost:8090/api/users/login \
  -H "Content-Type: application/json" \
  -d '{"codigoAcesso":"ADM001","senha":"123456"}' && \
echo -e "\n\n========================================" && \
echo -e "        ACESSO AO SISTEMA" && \
echo -e "========================================" && \
echo -e "\nAcesse no navegador:" && \
echo -e "http://$(hostname -I | awk '{print $1}'):3000\n" && \
echo -e "Credenciais:" && \
echo -e "Código: ADM001" && \
echo -e "Senha: 123456\n" && \
echo -e "========================================"</code></pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 11: DOCKER E WSL - PARTE 8 -->
        <div class="page" data-page="PÁG. 11">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <p><strong>O que este comando faz:</strong></p>
                <ol>
                    <li>Cria a pasta <code>~/projetos</code> (se não existir)</li>
                    <li>Remove diretório do projeto anterior (se existir)</li>
                    <li>Clona o repositório do GitHub</li>
                    <li>Entra na pasta do projeto</li>
                    <li>Constrói e inicia todos os containers (postgres, backend, frontend)</li>
                    <li>Aguarda 30 segundos para inicialização completa</li>
                    <li>Exibe status formatado dos containers</li>
                    <li>Testa autenticação via API REST</li>
                    <li>Mostra URL de acesso e credenciais do sistema</li>
                </ol>

                <div class="success-box">
                    <strong>Credenciais de Acesso:</strong><br>
                    <strong>Código de Acesso:</strong> ADM001<br>
                    <strong>Senha:</strong> 123456
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 12: DOCKER E WSL - PARTE 9 -->
        <div class="page" data-page="PÁG. 12">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>3.4.3 Comandos Docker Individuais</h4>
                <p>Se preferir executar os comandos separadamente:</p>
                
                <pre><code># Iniciar todos os containers
docker compose up -d

# Ver status dos containers
docker ps

# Ver logs de um container específico
docker logs -f maiconsoft-backend

# Parar todos os containers
docker compose down

# Parar e remover volumes (apaga dados)
docker compose down -v

# Reconstruir containers
docker compose up -d --build

# Acessar terminal de um container
docker exec -it maiconsoft-postgres bash

# Testar API de login
curl -X POST http://localhost:8090/api/users/login \
  -H "Content-Type: application/json" \
  -d '{"codigoAcesso":"ADM001","senha":"123456"}'</code></pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 13: DOCKER E WSL - PARTE 10 -->
        <div class="page" data-page="PÁG. 13">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>3.4.4 Resultado da Execução</h4>
                <p>Após executar o comando de deploy, você verá a seguinte saída:</p>
                
                <div class="screenshot-container">
                    <img src="images/execucao.png" alt="Execução do Deploy Completo" class="screenshot">
                    <p class="screenshot-caption">Figura 4: Execução completa do deploy com Docker</p>
                </div>
                
                <div class="info-box">
                    <strong>Verificações de Sucesso:</strong>
                    <ul style="margin-top: 10px;">
                        <li>✅ 3 containers rodando (postgres, backend, frontend)</li>
                        <li>✅ Status "healthy" para todos os containers</li>
                        <li>✅ Teste de login retorna <code>"success":true</code></li>
                        <li>✅ URL de acesso exibida no final</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 14: DOCKER E WSL - PARTE 11 -->
        <div class="page" data-page="PÁG. 14">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <div class="screenshot-container">
                    <img src="images/TesteContainerSql.png" alt="Container do Banco de Dados" class="screenshot">
                    <p class="screenshot-caption">Figura 5: Container do banco de dados em execução</p>
                </div>
                
                <h4>Scripts Prontos (Opcional)</h4>
                
                <div class="success-box">
                    <strong>Scripts Prontos:</strong> O projeto inclui scripts automatizados na pasta 
                    <code>scripts/</code> para facilitar o gerenciamento:
                    <ul style="margin-top: 10px;">
                        <li><code>start.bat</code> - Inicia todos os containers</li>
                        <li><code>stop.bat</code> - Para todos os containers</li>
                        <li><code>logs.bat</code> - Mostra logs em tempo real</li>
                        <li><code>status.bat</code> - Exibe status e recursos</li>
                        <li><code>rebuild.bat</code> - Reconstrói os containers</li>
                        <li><code>reset.bat</code> - Reset completo do sistema</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 15: BANCO DE DADOS - PARTE 1 -->
        <div class="page" data-page="PÁG. 15">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h2>4. BANCO DE DADOS</h2>
                
                <h3>4.1 PostgreSQL</h3>
                <p>
                    O projeto utiliza <strong>PostgreSQL 15</strong> como sistema de gerenciamento de banco de dados relacional. 
                    PostgreSQL é um dos bancos de dados open-source mais robustos e confiáveis, oferecendo recursos 
                    avançados como transações ACID, suporte a JSON, replicação e alta performance.
                </p>
                
                <h4>Principais Características:</h4>
                <ul>
                    <li><strong>ACID Compliance:</strong> Garantia de integridade transacional</li>
                    <li><strong>Alta Performance:</strong> Otimizado para operações complexas</li>
                    <li><strong>Extensível:</strong> Suporte a tipos de dados customizados</li>
                    <li><strong>Confiável:</strong> Sistema de backup e recuperação robusto</li>
                    <li><strong>Open Source:</strong> Sem custos de licenciamento</li>
                </ul>
                
                <h4>Configuração Docker:</h4>
                <pre><code>postgres:
  image: postgres:15-alpine
  container_name: maiconsoft-postgres
  environment:
    POSTGRES_DB: maiconsoft_db
    POSTGRES_USER: maiconsoft_user
    POSTGRES_PASSWORD: maiconsoft_pass
  ports:
    - "5432:5432"
  volumes:
    - postgres_data:/var/lib/postgresql/data</code></pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 16: BANCO DE DADOS - PARTE 2 -->
        <div class="page" data-page="PÁG. 16">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>4.2 Flyway Migration</h3>
                <p>
                    O projeto utiliza <strong>Flyway</strong> para controle de versão do banco de dados. 
                    Flyway permite gerenciar e aplicar migrações de forma automatizada e versionada, 
                    garantindo que todos os ambientes (desenvolvimento, teste, produção) possuam a 
                    mesma estrutura de banco de dados.
                </p>
                
                <h4>Vantagens do Flyway:</h4>
                <ul>
                    <li>Versionamento automático do schema</li>
                    <li>Migrations aplicadas apenas uma vez</li>
                    <li>Rastreabilidade completa de mudanças</li>
                    <li>Rollback facilitado em caso de erros</li>
                    <li>Integração nativa com Spring Boot</li>
                </ul>
                
                <h4>Estrutura de Migrations:</h4>
                <pre><code>src/main/resources/db/migration/
├── V1__Initial_Schema.sql
├── V2__Insert_Initial_Data.sql
├── V3__Remove_Security.sql
├── V4__Update_User_Data.sql
├── V5__Fix_User_Data.sql
├── V6__Add_User_Timestamps.sql
├── V7__Add_User_Auth_Fields.sql
├── V8__Popular_Dados_Exemplo.sql
├── V9__Add_Profile_Photo_Column.sql
├── V10__Remove_TipoUsuario_Column.sql
├── V11__Add_Profile_Photo_Column.sql
├── V12__Add_User_Active_Column.sql
└── V13__Add_Test_Users.sql</code></pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 17: BANCO DE DADOS - PARTE 3 -->
        <div class="page" data-page="PÁG. 17">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>4.3 Modelo de Dados</h3>
                <p>
                    O banco de dados foi modelado seguindo os princípios de normalização e boas práticas 
                    de design relacional, garantindo integridade referencial e evitando redundância de dados.
                </p>
                
                <h4>Principais Tabelas:</h4>
                <table>
                    <tr>
                        <th>Tabela</th>
                        <th>Descrição</th>
                        <th>Relacionamentos</th>
                    </tr>
                    <tr>
                        <td><code>users</code></td>
                        <td>Usuários do sistema</td>
                        <td>roles, vendas, clientes</td>
                    </tr>
                    <tr>
                        <td><code>roles</code></td>
                        <td>Perfis de acesso</td>
                        <td>users</td>
                    </tr>
                    <tr>
                        <td><code>clientes</code></td>
                        <td>Cadastro de clientes</td>
                        <td>users, vendas</td>
                    </tr>
                    <tr>
                        <td><code>vendas</code></td>
                        <td>Registro de vendas</td>
                        <td>users, clientes, vendas_itens</td>
                    </tr>
                    <tr>
                        <td><code>vendas_itens</code></td>
                        <td>Itens de cada venda</td>
                        <td>vendas, servicos</td>
                    </tr>
                    <tr>
                        <td><code>servicos</code></td>
                        <td>Serviços oferecidos</td>
                        <td>vendas_itens</td>
                    </tr>
                    <tr>
                        <td><code>cupons</code></td>
                        <td>Cupons promocionais</td>
                        <td>vendas</td>
                    </tr>
                </table>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 18: BANCO DE DADOS - PARTE 4 -->
        <div class="page" data-page="PÁG. 18">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>Relacionamentos e Chaves Estrangeiras:</h4>
                <p>
                    O sistema utiliza chaves estrangeiras (Foreign Keys) para garantir a integridade 
                    referencial entre as tabelas, impedindo inconsistências de dados.
                </p>
                
                <h4><code>users</code> ↔ <code>roles</code></h4>
                <ul>
                    <li><strong>Relacionamento:</strong> Muitos-para-Um (N:1)</li>
                    <li><strong>Chave Estrangeira:</strong> <code>users.id_role</code> → <code>roles.id_role</code></li>
                    <li><strong>Descrição:</strong> Cada usuário possui um único perfil de acesso (ADMIN, DIRETOR, FUNCIONARIO, VENDEDOR)</li>
                    <li><strong>Exemplo:</strong> O usuário ADM001 possui <code>id_role = 1</code> (ADMIN)</li>
                </ul>
                
                <h4><code>clientes</code> ↔ <code>users</code></h4>
                <ul>
                    <li><strong>Relacionamento:</strong> Muitos-para-Um (N:1)</li>
                    <li><strong>Chave Estrangeira:</strong> <code>clientes.id_usuario_cadastro</code> → <code>users.id_user</code></li>
                    <li><strong>Descrição:</strong> Registra qual usuário cadastrou cada cliente no sistema</li>
                    <li><strong>Comportamento:</strong> Campo opcional (pode ser NULL)</li>
                </ul>
                
                <h4><code>vendas</code> ↔ <code>users</code></h4>
                <ul>
                    <li><strong>Relacionamento:</strong> Muitos-para-Um (N:1)</li>
                    <li><strong>Chave Estrangeira:</strong> <code>vendas.id_usuario</code> → <code>users.id_user</code></li>
                    <li><strong>Descrição:</strong> Identifica qual usuário realizou a venda</li>
                    <li><strong>Integridade:</strong> ON DELETE SET NULL (se usuário for deletado, venda mantém histórico)</li>
                </ul>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 19: BANCO DE DADOS - PARTE 5 -->
        <div class="page" data-page="PÁG. 19">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4><code>vendas</code> ↔ <code>clientes</code></h4>
                <ul>
                    <li><strong>Relacionamento:</strong> Muitos-para-Um (N:1)</li>
                    <li><strong>Chave Estrangeira:</strong> <code>vendas.id_cliente</code> → <code>clientes.id_cliente</code></li>
                    <li><strong>Descrição:</strong> Vincula cada venda a um cliente específico</li>
                    <li><strong>Integridade:</strong> Campo obrigatório (NOT NULL)</li>
                </ul>
                
                <h4><code>vendas</code> ↔ <code>cupons</code></h4>
                <ul>
                    <li><strong>Relacionamento:</strong> Muitos-para-Um (N:1)</li>
                    <li><strong>Chave Estrangeira:</strong> <code>vendas.id_cupom</code> → <code>cupons.id_cupom</code></li>
                    <li><strong>Descrição:</strong> Aplica cupom de desconto à venda (opcional)</li>
                    <li><strong>Comportamento:</strong> Campo opcional (pode ser NULL se não houver desconto)</li>
                </ul>
                
                <h4><code>vendas_itens</code> ↔ <code>vendas</code></h4>
                <ul>
                    <li><strong>Relacionamento:</strong> Muitos-para-Um (N:1)</li>
                    <li><strong>Chave Estrangeira:</strong> <code>vendas_itens.id_venda</code> → <code>vendas.id_venda</code></li>
                    <li><strong>Descrição:</strong> Tabela de itens que compõem cada venda</li>
                    <li><strong>Integridade:</strong> ON DELETE CASCADE (se venda for deletada, itens também são removidos)</li>
                </ul>
                
                <h4><code>vendas_itens</code> ↔ <code>servicos</code></h4>
                <ul>
                    <li><strong>Relacionamento:</strong> Muitos-para-Um (N:1)</li>
                    <li><strong>Chave Estrangeira:</strong> <code>vendas_itens.id_servico</code> → <code>servicos.id_servico</code></li>
                    <li><strong>Descrição:</strong> Identifica qual serviço foi vendido em cada item</li>
                    <li><strong>Dados Armazenados:</strong> Quantidade, preço unitário, subtotal</li>
                </ul>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 20: BANCO DE DADOS - PARTE 6 -->
        <div class="page" data-page="PÁG. 20">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <div class="info-box">
                    <strong>Diagrama de Relacionamento Simplificado:</strong>
                    <pre style="margin-top: 10px; background: white; border: none; padding: 10px;">
┌─────────┐       ┌─────────┐       ┌──────────┐
│  roles  │◄──────│  users  │──────►│ clientes │
└─────────┘  1:N  └─────────┘  1:N  └──────────┘
                       │ 1:N              │ 1:N
                       ▼                  ▼
                  ┌────────┐         ┌────────┐
                  │ vendas │◄────────┤ cupons │
                  └────────┘    1:N  └────────┘
                       │ 1:N
                       ▼
                ┌──────────────┐
                │ vendas_itens │
                └──────────────┘
                       │ N:1
                       ▼
                  ┌──────────┐
                  │ servicos │
                  └──────────┘
                    </pre>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 21: BACKEND - PARTE 1 -->
        <div class="page" data-page="PÁG. 21">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h2>5. BACKEND - API SPRING BOOT</h2>
                
                <h3>5.1 Spring Boot 3.5.5</h3>
                <p>
                    O backend foi desenvolvido utilizando <strong>Spring Boot 3.5.5</strong>, o framework Java 
                    mais popular para desenvolvimento de aplicações enterprise. Spring Boot simplifica a 
                    configuração e permite desenvolvimento rápido com convenções inteligentes.
                </p>
                
                <h4>Principais Dependências:</h4>
                <table>
                    <tr>
                        <th>Tecnologia</th>
                        <th>Versão</th>
                        <th>Finalidade</th>
                    </tr>
                    <tr>
                        <td>Spring Boot</td>
                        <td>3.5.5</td>
                        <td>Framework base</td>
                    </tr>
                    <tr>
                        <td>Spring Data JPA</td>
                        <td>3.5.5</td>
                        <td>ORM e persistência</td>
                    </tr>
                    <tr>
                        <td>Spring Web</td>
                        <td>3.5.5</td>
                        <td>REST API</td>
                    </tr>
                    <tr>
                        <td>Spring Boot Mail</td>
                        <td>3.5.5</td>
                        <td>Envio de emails</td>
                    </tr>
                    <tr>
                        <td>Spring Security Crypto</td>
                        <td>3.5.5</td>
                        <td>BCrypt para hash de senhas</td>
                    </tr>
                    <tr>
                        <td>PostgreSQL Driver</td>
                        <td>Runtime</td>
                        <td>Conexão com PostgreSQL</td>
                    </tr>
                    <tr>
                        <td>Flyway Core</td>
                        <td>10.x</td>
                        <td>Migrations de banco</td>
                    </tr>
                    <tr>
                        <td>Flyway PostgreSQL</td>
                        <td>10.x</td>
                        <td>Suporte PostgreSQL para Flyway</td>
                    </tr>
                </table>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 22: BACKEND - PARTE 2 -->
        <div class="page" data-page="PÁG. 22">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>Principais Dependências (continuação):</h4>
                <table>
                    <tr>
                        <th>Tecnologia</th>
                        <th>Versão</th>
                        <th>Finalidade</th>
                    </tr>
                    <tr>
                        <td>H2 Database</td>
                        <td>Runtime</td>
                        <td>Banco em memória (dev)</td>
                    </tr>
                    <tr>
                        <td>Thymeleaf</td>
                        <td>3.5.5</td>
                        <td>Templates de email</td>
                    </tr>
                    <tr>
                        <td>Lombok</td>
                        <td>Latest</td>
                        <td>Redução de boilerplate</td>
                    </tr>
                    <tr>
                        <td>SpringDoc OpenAPI</td>
                        <td>2.8.9</td>
                        <td>Documentação Swagger/OpenAPI</td>
                    </tr>
                    <tr>
                        <td>Caffeine</td>
                        <td>3.2.2</td>
                        <td>Cache de alta performance</td>
                    </tr>
                    <tr>
                        <td>Logstash Logback</td>
                        <td>7.4</td>
                        <td>Logs estruturados em JSON</td>
                    </tr>
                </table>
                
                <h4>Detalhamento das Principais Dependências:</h4>
                
                <p><strong>Spring Boot Mail + Thymeleaf:</strong> Utilizados em conjunto para o sistema de envio de emails HTML. O Thymeleaf processa os templates HTML localizados em <code>resources/templates/email/</code>, permitindo emails personalizados para boas-vindas de clientes, notificações de vendas e recuperação de senha.</p>
                
                <p><strong>Caffeine Cache:</strong> Implementado especificamente para armazenar tokens de recuperação de senha de forma temporária e segura. Os tokens expiram automaticamente após um período configurado, garantindo segurança no processo de reset de senha.</p>
                
                <p><strong>SpringDoc OpenAPI:</strong> Gera automaticamente a documentação interativa da API no formato Swagger/OpenAPI, acessível via <code>/swagger-ui.html</code>. Facilita testes e integração com a API.</p>
                
                <p><strong>Logstash Logback:</strong> Estrutura os logs da aplicação em formato JSON, facilitando análise, monitoramento e integração com ferramentas de observabilidade como ELK Stack (Elasticsearch, Logstash, Kibana).</p>
                
                <p><strong>H2 Database:</strong> Banco de dados em memória utilizado para testes e desenvolvimento rápido, permitindo desenvolvimento sem necessidade de PostgreSQL rodando localmente.</p>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 23: BACKEND - PARTE 3 -->
        <div class="page" data-page="PÁG. 23">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>5.2 Arquitetura em Camadas</h3>
                <p>
                    O backend segue a arquitetura em camadas, separando responsabilidades e facilitando 
                    manutenção, testes e escalabilidade.
                </p>
                
                <h4>Estrutura de Pacotes:</h4>
                <pre><code>com.faculdae.maiconsoft_api/
├── MaiconsoftApiApplication.java  # Classe principal
├── controllers/       # Endpoints REST
│   ├── ClienteController.java
│   ├── CupomController.java
│   ├── DashboardController.java
│   ├── FileUploadController.java
│   ├── HealthController.java
│   ├── PasswordResetController.java
│   ├── UserController.java
│   └── VendaController.java
├── services/          # Lógica de negócio
│   ├── CodigoAcessoService.java
│   ├── DashboardService.java
│   ├── audit/         # Auditoria
│   ├── cliente/       # Serviços de cliente
│   ├── cupom/         # Serviços de cupom
│   ├── email/         # Envio de emails
│   ├── external/      # Integrações externas (ViaCEP)
│   ├── user/          # Serviços de usuário
│   └── venda/         # Serviços de venda
├── repositories/      # Acesso a dados (JPA)
│   ├── ClienteRepository.java
│   ├── CupomRepository.java
│   ├── DashboardLogRepository.java
│   ├── UserRepository.java
│   ├── UserRoleRepository.java
│   └── VendaRepository.java</code></pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 24: BACKEND - PARTE 4 -->
        <div class="page" data-page="PÁG. 24">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>Estrutura de Pacotes (continuação):</h4>
                <pre><code>com.faculdae.maiconsoft_api/ (continuação)
├── entities/          # Entidades JPA
│   ├── Cliente.java
│   ├── Cupom.java
│   ├── DashboardLog.java
│   ├── Pagamento.java
│   ├── Servico.java
│   ├── User.java
│   ├── UserRole.java
│   └── Venda.java
├── dto/               # Data Transfer Objects
│   ├── DashboardMetricsDTO.java
│   ├── LoginRequestDTO.java
│   ├── LoginResponseDTO.java
│   ├── UserResponseDTO.java
│   ├── auth/          # DTOs de autenticação
│   ├── cliente/       # DTOs de cliente
│   ├── cupom/         # DTOs de cupom
│   ├── user/          # DTOs de usuário
│   ├── venda/         # DTOs de venda
│   └── viacep/        # DTOs de integração ViaCEP
├── specification/     # Filtros e buscas avançadas
│   └── ClienteSpecification.java
└── config/            # Configurações
    ├── CorsConfig.java
    ├── EmailConfig.java
    ├── GlobalExceptionHandler.java
    ├── RateLimitConfig.java
    ├── RateLimitFilter.java
    ├── RestTemplateConfig.java
    ├── SecurityConfig.java
    ├── SimpleCorsFilter.java
    ├── SwaggerConfig.java
    └── WebConfig.java</code></pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 25: BACKEND - PARTE 5 -->
        <div class="page" data-page="PÁG. 25">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>5.3 Organização da Arquitetura</h3>
                
                <h4>Por que essa estrutura de pacotes?</h4>
                <p>
                    A organização do projeto segue o padrão <strong>Package by Feature</strong> combinado 
                    com <strong>Separação de Responsabilidades (SoC)</strong>. Esta abordagem traz diversos benefícios:
                </p>
                
                <ul>
                    <li><strong>Manutenibilidade:</strong> Cada camada tem responsabilidade bem definida, facilitando localização e correção de bugs</li>
                    <li><strong>Escalabilidade:</strong> Novos módulos podem ser adicionados sem impactar código existente</li>
                    <li><strong>Testabilidade:</strong> Camadas isoladas permitem testes unitários independentes</li>
                    <li><strong>Modularização:</strong> Services organizados em subpacotes (cliente, venda, email) facilitam trabalho em equipe</li>
                    <li><strong>Clean Architecture:</strong> Controllers não conhecem detalhes de persistência, Services não conhecem detalhes HTTP</li>
                </ul>
                
                <h4>Spring Data JPA Specifications</h4>
                <p>
                    O projeto utiliza <strong>Spring Data JPA Specifications</strong> para implementar 
                    buscas dinâmicas e filtros complexos de forma type-safe e reutilizável.
                </p>
                
                <p>
                    Specifications são baseadas no padrão <strong>Criteria API</strong> do JPA e permitem 
                    construir queries de forma programática, evitando SQL nativo e proporcionando:
                </p>
                
                <ul>
                    <li><strong>Type Safety:</strong> Erros detectados em tempo de compilação</li>
                    <li><strong>Reutilização:</strong> Specifications podem ser combinadas com operadores AND/OR</li>
                    <li><strong>Flexibilidade:</strong> Queries dinâmicas baseadas em parâmetros opcionais</li>
                </ul>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 26: BACKEND - PARTE 6 -->
        <div class="page" data-page="PÁG. 26">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>Como funciona a busca no banco de dados?</h4>
                <p>
                    Ao invés de criar múltiplos métodos <code>get</code> no Repository para cada combinação 
                    possível de filtros (ex: <code>findByNome()</code>, <code>findByCpf()</code>, 
                    <code>findByNomeAndCpf()</code>, etc.), o Specification permite criar <strong>uma única 
                    busca personalizada</strong> que aceita parâmetros opcionais.
                </p>
                
                <p>
                    O Spring Data JPA converte as Specifications em queries SQL automaticamente, aplicando 
                    apenas os filtros que foram fornecidos. Por exemplo:
                </p>
                
                <ul>
                    <li>Se apenas o <strong>nome</strong> for informado → <code>SELECT * FROM clientes WHERE nome LIKE '%valor%'</code></li>
                    <li>Se apenas o <strong>CPF</strong> for informado → <code>SELECT * FROM clientes WHERE cpf = 'valor'</code></li>
                    <li>Se <strong>ambos</strong> forem informados → <code>SELECT * FROM clientes WHERE nome LIKE '%valor%' AND cpf = 'valor'</code></li>
                    <li>Se <strong>nenhum</strong> for informado → <code>SELECT * FROM clientes</code> (retorna todos)</li>
                </ul>
                
                <h4>Exemplo de uso do Specification:</h4>
                <pre><code>// ClienteSpecification.java
public class ClienteSpecification {
    
    public static Specification<Cliente> buscarPorNome(String nome) {
        return (root, query, criteriaBuilder) -> {
            if (nome == null || nome.isEmpty()) {
                return criteriaBuilder.conjunction();
            }
            return criteriaBuilder.like(
                criteriaBuilder.lower(root.get("nome")),
                "%" + nome.toLowerCase() + "%"
            );
        };
    }</code></pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 27: BACKEND - PARTE 7 -->
        <div class="page" data-page="PÁG. 27">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>Exemplo de uso do Specification (continuação):</h4>
                <pre><code>    public static Specification<Cliente> buscarPorCpf(String cpf) {
        return (root, query, criteriaBuilder) -> {
            if (cpf == null || cpf.isEmpty()) {
                return criteriaBuilder.conjunction();
            }
            return criteriaBuilder.equal(root.get("cpf"), cpf);
        };
    }
}

// Uso no Service
Specification<Cliente> spec = Specification
    .where(buscarPorNome(nome))
    .and(buscarPorCpf(cpf));
    
List<Cliente> clientes = clienteRepository.findAll(spec);</code></pre>

                <div class="info-box">
                    <strong>Documentação Oficial:</strong><br>
                    Spring Data JPA Specifications<br>
                    <a href="https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html" target="_blank">
                        https://docs.spring.io/spring-data/jpa/reference/jpa/specifications.html
                    </a>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 28: BACKEND - PARTE 8 -->
        <div class="page" data-page="PÁG. 27">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>5.4 Principais Endpoints da API</h3>
                <p>
                    A API REST fornece endpoints para todas as operações do sistema, seguindo os 
                    princípios RESTful e retornando dados em formato JSON.
                </p>
                
                <h4>Endpoints de Usuários:</h4>
                <table>
                    <tr>
                        <th>Método</th>
                        <th>Endpoint</th>
                        <th>Descrição</th>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/users/login</td>
                        <td>Autenticação de usuário</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/users</td>
                        <td>Listar todos os usuários</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/users/{id}</td>
                        <td>Buscar usuário por ID</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/users</td>
                        <td>Criar novo usuário</td>
                    </tr>
                    <tr>
                        <td>PUT</td>
                        <td>/api/users/{id}</td>
                        <td>Atualizar usuário</td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>/api/users/{id}</td>
                        <td>Deletar usuário</td>
                    </tr>
                </table>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 29: BACKEND - PARTE 9 -->
        <div class="page" data-page="PÁG. 29">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>Endpoints de Clientes:</h4>
                <table>
                    <tr>
                        <th>Método</th>
                        <th>Endpoint</th>
                        <th>Descrição</th>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/clientes</td>
                        <td>Listar todos os clientes</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/clientes/{id}</td>
                        <td>Buscar cliente por ID</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/clientes</td>
                        <td>Criar novo cliente</td>
                    </tr>
                    <tr>
                        <td>PUT</td>
                        <td>/api/clientes/{id}</td>
                        <td>Atualizar cliente</td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>/api/clientes/{id}</td>
                        <td>Deletar cliente</td>
                    </tr>
                </table>
                
                <h4>Endpoints de Vendas:</h4>
                <table>
                    <tr>
                        <th>Método</th>
                        <th>Endpoint</th>
                        <th>Descrição</th>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/vendas</td>
                        <td>Listar todas as vendas</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/vendas/{id}</td>
                        <td>Buscar venda por ID</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/vendas</td>
                        <td>Registrar nova venda</td>
                    </tr>
                    <tr>
                        <td>PUT</td>
                        <td>/api/vendas/{id}</td>
                        <td>Atualizar venda</td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>/api/vendas/{id}</td>
                        <td>Deletar venda</td>
                    </tr>
                </table>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 30: BACKEND - PARTE 10 -->
        <div class="page" data-page="PÁG. 30">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>Endpoints de Cupons:</h4>
                <table>
                    <tr>
                        <th>Método</th>
                        <th>Endpoint</th>
                        <th>Descrição</th>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/cupons</td>
                        <td>Listar todos os cupons</td>
                    </tr>
                    <tr>
                        <td>GET</td>
                        <td>/api/cupons/{id}</td>
                        <td>Buscar cupom por ID</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/cupons</td>
                        <td>Criar novo cupom</td>
                    </tr>
                    <tr>
                        <td>PUT</td>
                        <td>/api/cupons/{id}</td>
                        <td>Atualizar cupom</td>
                    </tr>
                    <tr>
                        <td>DELETE</td>
                        <td>/api/cupons/{id}</td>
                        <td>Deletar cupom</td>
                    </tr>
                    <tr>
                        <td>POST</td>
                        <td>/api/cupons/validar</td>
                        <td>Validar código de cupom</td>
                    </tr>
                </table>
                
                <h4>Outros Endpoints:</h4>
                <table>
                    <tr>
                        <th>Categoria</th>
                        <th>Endpoint</th>
                        <th>Descrição</th>
                    </tr>
                    <tr>
                        <td>Dashboard</td>
                        <td>/api/dashboard/metrics</td>
                        <td>Métricas gerais do sistema</td>
                    </tr>
                    <tr>
                        <td>Dashboard</td>
                        <td>/api/dashboard/logs</td>
                        <td>Logs de atividades</td>
                    </tr>
                    <tr>
                        <td>Upload</td>
                        <td>/api/file/upload</td>
                        <td>Upload de arquivos</td>
                    </tr>
                    <tr>
                        <td>Password</td>
                        <td>/api/password/reset-request</td>
                        <td>Solicitar reset de senha</td>
                    </tr>
                    <tr>
                        <td>Password</td>
                        <td>/api/password/reset</td>
                        <td>Resetar senha com token</td>
                    </tr>
                </table>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 31: BACKEND - PARTE 11 -->
        <div class="page" data-page="PÁG. 31">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>5.7 Regras de Negócio</h3>
                <p>
                    O backend implementa diversas regras de negócio essenciais para o funcionamento 
                    do sistema de gestão. Abaixo estão detalhadas as principais funcionalidades e 
                    seus fluxos de processamento.
                </p>
                
                <h4>5.7.1 Processamento de Vendas</h4>
                <p>
                    O sistema processa vendas com validação completa de dados e aplicação automática 
                    de cupons de desconto quando aplicável. O método <code>save()</code> do 
                    <code>VendaService</code> implementa o fluxo completo:
                </p>
                
                <p><strong>Passo 1 - Validação de Cliente:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// VendaService.java - linha 57
Cliente cliente = clienteService.findEntityById(requestDTO.clienteId());</pre>
                <p style="margin-top: 10px;">
                    O método <code>findEntityById()</code> do <code>ClienteService</code> busca o cliente 
                    no banco e lança exceção se não encontrado:
                </p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// ClienteService.java
Cliente cliente = clienteRepository.findById(id)
    .orElseThrow(() -> new EntityNotFoundException(
        "Cliente não encontrado com ID: " + id));</pre>
                
                <p><strong>Passo 2 - Validação de Cupom:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// VendaService.java - linha 67
if (!cupomService.podeUsarCupom(requestDTO.cupomCodigo())) {
    throw new RuntimeException(
        "Cupom não pode ser usado: inativo, expirado ou limite atingido"
    );
}</pre>
                <p style="margin-top: 10px;">
                    O método <code>podeUsarCupom()</code> verifica 3 condições:
                </p>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 32: BACKEND - PARTE 12 -->
        <div class="page" data-page="PÁG. 32">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// CupomService.java - linha 272
// 1. Verificar se cupom está ATIVO
if (!"ATIVO".equals(cupom.getStatus())) {
    return false;
}

// 2. Verificar se não expirou
if (cupom.getValidade().isBefore(LocalDate.now())) {
    return false;
}

// 3. Verificar limite de usos
if (cupom.getMaxUsos() != null && usosAtuais >= cupom.getMaxUsos()) {
    return false;
}</pre>
                
                <p><strong>Passo 3 - Cálculo de Valores:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// VendaService.java - linha 76
BigDecimal valorBruto = requestDTO.valorBruto();
BigDecimal valorDesconto = calcularDesconto(valorBruto, cupom);
BigDecimal valorTotal = valorBruto.subtract(valorDesconto);</pre>
                
                <h4>5.7.2 Envio de Comprovante por E-mail</h4>
                <p>
                    Após registro da venda, o sistema envia automaticamente um e-mail de notificação. 
                    O processo utiliza Thymeleaf para templates HTML:
                </p>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 33: BACKEND - PARTE 13 -->
        <div class="page" data-page="PÁG. 33">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <p><strong>Implementação no VendaService:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// VendaService.java - linha 115
try {
    emailService.enviarNotificacaoNovaVenda(
        venda.getUsuarioCadastro().getNome(),
        cliente.getNomeFantasia(), 
        vendaSalva.getValorTotal().doubleValue()
    );
    log.info("Email de notificação enviado");
} catch (Exception e) {
    log.error("Erro ao enviar email: {}", e.getMessage());
    // Não falha a venda por causa do email
}</pre>
                
                <p><strong>EmailService com Template Thymeleaf:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// EmailService.java - linha 93
Context context = new Context();
context.setVariable("nomeCliente", nomeCliente);
context.setVariable("codigoCliente", codigoCliente);

// Processar template HTML
String htmlContent = templateEngine.process(
    "email/cliente-welcome", context
);

// Criar mensagem MIME para HTML
MimeMessage mimeMessage = mailSender.createMimeMessage();
MimeMessageHelper helper = new MimeMessageHelper(
    mimeMessage, true, "UTF-8"
);

helper.setFrom(fromEmail);
helper.setTo(emailCliente);
helper.setSubject("Bem-vindo à Maiconsoft!");
helper.setText(htmlContent, true); // true = HTML content

mailSender.send(mimeMessage);</pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 34: BACKEND - PARTE 14 -->
        <div class="page" data-page="PÁG. 34">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <p style="margin-top: 10px;">
                    <strong>Características:</strong> Envio assíncrono (não bloqueia resposta da API), 
                    tratamento de exceções (venda não falha se e-mail falhar), logs detalhados para auditoria, 
                    templates HTML responsivos com Thymeleaf.
                </p>
                
                <h4>5.7.3 Sistema de Cupons</h4>
                <p>
                    Gerenciamento completo de cupons com validações múltiplas e controle de uso:
                </p>
                
                <p><strong>Validação Completa do Cupom:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// CupomService.java - método podeUsarCupom()
public boolean podeUsarCupom(String cupomCodigo) {
    try {
        Cupom cupom = findByCodigo(cupomCodigo);
        
        // 1. Verificar status ATIVO
        if (!"ATIVO".equals(cupom.getStatus())) {
            return false;
        }
        
        // 2. Verificar validade
        if (cupom.getValidade() != null && 
            cupom.getValidade().isBefore(LocalDate.now())) {
            return false;
        }
        
        // 3. Verificar limite de usos
        int usosAtuais = cupom.getUsosAtual() != null ? 
            cupom.getUsosAtual() : 0;
        if (cupom.getMaxUsos() != null && 
            usosAtuais >= cupom.getMaxUsos()) {
            return false;
        }
        
        return true;
    } catch (Exception e) {
        return false;
    }
}</pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 35: BACKEND - PARTE 15 -->
        <div class="page" data-page="PÁG. 35">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <p><strong>Incremento de Uso do Cupom:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// VendaService.java - após salvar venda
if (cupom != null) {
    try {
        cupomService.incrementarUsoCupom(cupom.getCodigo());
        log.info("Uso do cupom {} incrementado", cupom.getCodigo());
    } catch (Exception e) {
        log.error("Erro ao incrementar cupom: {}", e.getMessage());
        // Não falha a venda por causa do cupom
    }
}</pre>
                
                <p><strong>Desativação Automática de Cupons Expirados:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// CupomService.java - executado ao listar cupons
private void desativarCuponsExpirados() {
    LocalDate hoje = LocalDate.now();
    List&lt;Cupom&gt; cuponsExpirados = 
        cupomRepository.findByStatusAndValidadeBefore("ATIVO", hoje);
    
    if (!cuponsExpirados.isEmpty()) {
        cuponsExpirados.forEach(cupom -> {
            log.info("Desativando cupom expirado: {}", cupom.getCodigo());
            cupom.setStatus("INATIVO");
        });
        cupomRepository.saveAll(cuponsExpirados);
    }
}</pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 36: BACKEND - PARTE 16 -->
        <div class="page" data-page="PÁG. 36">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>5.7.4 Upload de Arquivos</h4>
                <p>
                    Sistema de upload seguro com validações e armazenamento em diretório:
                </p>
                
                <p><strong>Validação e Upload de Arquivo:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// FileUploadController.java
@PostMapping("/upload")
public ResponseEntity&lt;?&gt; uploadFile(
    @RequestParam("file") MultipartFile file
) {
    // Validar tipo de arquivo
    String contentType = file.getContentType();
    if (!contentType.startsWith("image/")) {
        return ResponseEntity.badRequest()
            .body("Apenas imagens são permitidas");
    }
    
    // Validar tamanho (5MB)
    if (file.getSize() > 5 * 1024 * 1024) {
        return ResponseEntity.badRequest()
            .body("Arquivo excede 5MB");
    }
    
    // Gerar nome único
    String fileName = UUID.randomUUID() + "_" + 
        file.getOriginalFilename();
    
    // Salvar no diretório
    Path uploadPath = Paths.get("uploads/profiles/");
    Files.createDirectories(uploadPath);
    
    Path filePath = uploadPath.resolve(fileName);
    Files.copy(file.getInputStream(), filePath, 
        StandardCopyOption.REPLACE_EXISTING);
    
    // Atualizar banco de dados
    user.setProfilePhotoUrl("/uploads/profiles/" + fileName);
    userRepository.save(user);
    
    return ResponseEntity.ok(Map.of("url", filePath.toString()));
}</pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 37: BACKEND - PARTE 17 -->
        <div class="page" data-page="PÁG. 37">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>5.7.5 Recuperação de Senha</h4>
                <p>
                    Fluxo seguro com tokens temporários armazenados em cache Caffeine:
                </p>
                
                <p><strong>Passo 1 - Geração e Armazenamento de Token:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// PasswordResetService.java
@PostMapping("/reset-request")
public ResponseEntity&lt;?&gt; requestPasswordReset(
    @RequestParam String email
) {
    User user = userRepository.findByEmail(email)
        .orElseThrow(() -> new RuntimeException(
            "Usuário não encontrado"
        ));
    
    // Gerar token UUID único
    String token = UUID.randomUUID().toString();
    
    // Armazenar em cache Caffeine (expira em 1 hora)
    passwordResetTokenCache.put(token, email);
    
    // Enviar email com link
    emailService.enviarTokenResetSenha(
        email, user.getNome(), token
    );
    
    return ResponseEntity.ok("Email enviado com sucesso");
}</pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 38: BACKEND - PARTE 18 -->
        <div class="page" data-page="PÁG. 38">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <p><strong>Passo 2 - Validação de Token e Reset:</strong></p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// PasswordResetService.java
@PostMapping("/reset")
public ResponseEntity&lt;?&gt; resetPassword(
    @RequestParam String token,
    @RequestParam String newPassword
) {
    // Buscar email no cache pelo token
    String email = passwordResetTokenCache.getIfPresent(token);
    
    if (email == null) {
        return ResponseEntity.badRequest()
            .body("Token inválido ou expirado");
    }
    
    User user = userRepository.findByEmail(email)
        .orElseThrow(() -> new RuntimeException(
            "Usuário não encontrado"
        ));
    
    // Hashear nova senha com BCrypt
    String hashedPassword = passwordEncoder.encode(newPassword);
    user.setSenha(hashedPassword);
    userRepository.save(user);
    
    // Remover token do cache (uso único)
    passwordResetTokenCache.invalidate(token);
    
    return ResponseEntity.ok("Senha alterada com sucesso");
}</pre>
                
                <p style="margin-top: 10px;">
                    <strong>Configuração do Cache Caffeine:</strong>
                </p>
                <pre style="background: #f5f5f5; padding: 15px; border-radius: 5px; overflow-x: auto; font-size: 0.85em;">
// CacheConfig.java
@Bean
public Cache&lt;String, String&gt; passwordResetTokenCache() {
    return Caffeine.newBuilder()
        .expireAfterWrite(1, TimeUnit.HOURS) // Expira em 1 hora
        .maximumSize(1000)
        .build();
}</pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 39: BACKEND - PARTE 19 -->
        <div class="page" data-page="PÁG. 39">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h4>5.7.6 Dashboard e Métricas</h4>
                <p>
                    Agregação de dados para visualização gerencial:
                </p>
                <ul>
                    <li><strong>Total de Vendas:</strong> Valor total e quantidade de vendas no período</li>
                    <li><strong>Clientes Ativos:</strong> Quantidade de clientes com compras recentes</li>
                    <li><strong>Cupons Ativos:</strong> Cupons válidos disponíveis para uso</li>
                    <li><strong>Top Produtos:</strong> Produtos mais vendidos com quantidade</li>
                    <li><strong>Vendas por Período:</strong> Gráficos de evolução temporal</li>
                    <li><strong>Logs de Sistema:</strong> Últimas 100 atividades registradas</li>
                </ul>
                
                <h4>5.7.7 Resumo Funcional do Backend</h4>
                <p>
                    O backend do sistema MaicoSoft API foi desenvolvido para fornecer uma base robusta 
                    de gestão comercial com as seguintes capacidades principais:
                </p>
                <ul>
                    <li><strong>Autenticação e Autorização:</strong> Sistema seguro com roles (ADMIN/USER)</li>
                    <li><strong>Gestão de Clientes:</strong> CRUD completo com busca e filtros</li>
                    <li><strong>Processamento de Vendas:</strong> Registro detalhado com itens e cálculos automáticos</li>
                    <li><strong>Sistema de Cupons:</strong> Descontos configuráveis com controle de uso</li>
                    <li><strong>Notificações por E-mail:</strong> Comprovantes e recuperação de senha</li>
                    <li><strong>Upload de Arquivos:</strong> Gestão de fotos de perfil</li>
                    <li><strong>Dashboard Analítico:</strong> Métricas e KPIs em tempo real</li>
                    <li><strong>Auditoria e Logs:</strong> Rastreamento completo de operações</li>
                </ul>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 40: FRONTEND - PARTE 1 -->
        <div class="page" data-page="PÁG. 40">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h2>6. FRONTEND - INTERFACE WEB</h2>
                
                <h3>6.1 Tecnologias Frontend</h3>
                <p>
                    O frontend foi desenvolvido como uma aplicação web SPA (Single Page Application) 
                    utilizando tecnologias web modernas, garantindo responsividade e ótima experiência 
                    do usuário.
                </p>
                
                <h4>Stack de Tecnologias:</h4>
                <table>
                    <tr>
                        <th>Tecnologia</th>
                        <th>Versão</th>
                        <th>Finalidade</th>
                    </tr>
                    <tr>
                        <td>HTML5</td>
                        <td>-</td>
                        <td>Estrutura das páginas</td>
                    </tr>
                    <tr>
                        <td>CSS3</td>
                        <td>-</td>
                        <td>Estilização e layout</td>
                    </tr>
                    <tr>
                        <td>JavaScript (ES6+)</td>
                        <td>-</td>
                        <td>Lógica e interatividade</td>
                    </tr>
                    <tr>
                        <td>Nginx</td>
                        <td>Alpine</td>
                        <td>Servidor web</td>
                    </tr>
                    <tr>
                        <td>Chart.js</td>
                        <td>4.4.1</td>
                        <td>Gráficos e dashboards</td>
                    </tr>
                    <tr>
                        <td>Font Awesome</td>
                        <td>6.5.1</td>
                        <td>Ícones</td>
                    </tr>
                </table>
                
                <h4>Características:</h4>
                <ul>
                    <li><strong>Design Responsivo:</strong> Adapta-se a diferentes tamanhos de tela</li>
                    <li><strong>SPA:</strong> Navegação fluida sem recarregamento de página</li>
                    <li><strong>API Integration:</strong> Comunicação via Fetch API</li>
                    <li><strong>Validação de Formulários:</strong> Feedback em tempo real</li>
                    <li><strong>Notificações:</strong> Sistema de alertas e mensagens</li>
                </ul>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 41: FRONTEND - PARTE 2 -->
        <div class="page" data-page="PÁG. 41">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>6.2 Estrutura de Arquivos</h3>
                <p>
                    O frontend está organizado de forma modular, separando estilos, scripts e páginas 
                    para facilitar manutenção e escalabilidade.
                </p>
                
                <h4>Organização de Pastas:</h4>
                <pre><code>frontend/
├── pages/             # Páginas HTML
│   ├── login.html
│   ├── dashboard.html
│   ├── clientes.html
│   ├── vendas.html
│   ├── cupons.html
│   ├── relatorios.html
│   ├── usuarios.html
│   └── perfil.html
├── css/               # Folhas de estilo
│   ├── style.css
│   ├── login.css
│   ├── dashboard.css
│   ├── cliente.css
│   ├── navigation.css
│   ├── notifications.css
│   └── responsive.css
├── js/                # Scripts JavaScript
│   ├── config.js
│   ├── app.js
│   ├── login.js
│   ├── dashboard.js
│   ├── cliente.js
│   ├── ajax-utils.js
│   └── user-profile.js
├── images/            # Imagens e ícones
└── assets/            # Recursos estáticos</code></pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 42: FRONTEND - PARTE 3 -->
        <div class="page" data-page="PÁG. 42">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <h3>6.3 Nginx como Servidor Web</h3>
                <p>
                    O Nginx foi escolhido como servidor web por sua alta performance, baixo consumo de 
                    recursos e capacidade de atuar como reverse proxy para o backend.
                </p>
                
                <h4>Configuração Nginx:</h4>
                <pre><code>server {
    listen 80;
    server_name localhost;
    root /usr/share/nginx/html;
    index index.html;

    # Servir arquivos estáticos
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Proxy reverso para API
    location /api/ {
        proxy_pass http://backend:8090/api/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # Cache de arquivos estáticos
    location ~* \.(jpg|jpeg|png|gif|ico|css|js)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}</code></pre>
            </div>
            
            <div class="footer-page"></div>
        </div>

        <!-- PÁGINA 43: FRONTEND - PARTE 4 -->
        <div class="page" data-page="PÁG. 43">
            <div class="header-page">
                <img src="images/cabecario.png" alt="Cabeçalho">
            </div>
            
            <div class="content-page">
                <div class="info-box">
                    <strong>Vantagens do Nginx:</strong>
                    <ul style="margin-top: 10px;">
                        <li>Alta performance para conteúdo estático</li>
                        <li>Baixo consumo de memória</li>
                        <li>Reverse proxy integrado</li>
                        <li>Suporte a HTTPS</li>
                        <li>Balanceamento de carga</li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-page"></div>
        </div>

    </div>
</body>
</html>
